# ë³€ê²½ ì „/í›„ ì„±ëŠ¥ ë¹„êµ ê°€ì´ë“œ

ë³€ê²½ ì „ ìˆœì°¨ ì²˜ë¦¬ ë°©ì‹ê³¼ ë³€ê²½ í›„ ë³‘ë ¬ ì²˜ë¦¬ ë°©ì‹ì„ ì§ì ‘ ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ğŸ“ ì½”ë“œ ì „í™˜ ë°©ë²•

### í˜„ì¬ ìƒíƒœ: ë³€ê²½ í›„ (ë³‘ë ¬ ì²˜ë¦¬) âœ…

ê¸°ë³¸ì ìœ¼ë¡œ ë³‘ë ¬ ì²˜ë¦¬ ì½”ë“œê°€ í™œì„±í™”ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

---

## ğŸ”„ ë³€ê²½ ì „ ì½”ë“œë¡œ ì „í™˜í•˜ê¸°

### 1ë‹¨ê³„: `translate_menus_to_korean` í•¨ìˆ˜ ë³€ê²½

**ìœ„ì¹˜**: `apps/ai/src/main.py:168-223`

#### ë³€ê²½ ë°©ë²•:

```python
# 1. "ë³€ê²½ í›„ ì½”ë“œ" ë¶€ë¶„ì„ ì£¼ì„ ì²˜ë¦¬ (190-223ì¤„)
# ===== ë³€ê²½ í›„ ì½”ë“œ (ë³‘ë ¬ ë²ˆì—­) =====
# async def translate_menus_to_korean(menus: List[Menu]) -> List[Menu]:
#     # ë³‘ë ¬ ë²ˆì—­: ëª¨ë“  ë²ˆì—­ ì‘ì—…ì„ ë™ì‹œì— ì‹¤í–‰
#     ...
# ===== ë³€ê²½ í›„ ì½”ë“œ ë =====

# 2. "ë³€ê²½ ì „ ì½”ë“œ" ì£¼ì„ í•´ì œ (172-187ì¤„)
===== ë³€ê²½ ì „ ì½”ë“œ (ìˆœì°¨ ë²ˆì—­) =====
async def translate_menus_to_korean(menus: List[Menu]) -> List[Menu]:
    translated_menus = []
    for menu in menus:
        ...
    return translated_menus
===== ë³€ê²½ ì „ ì½”ë“œ ë =====
```

### 2ë‹¨ê³„: `generate_menus_from_text_util` í•¨ìˆ˜ ë³€ê²½

**ìœ„ì¹˜**: `apps/ai/src/main.py:326-391`

#### ë³€ê²½ ë°©ë²•:

```python
# 1. "ë³€ê²½ í›„ ì½”ë“œ" ë¶€ë¶„ì„ ì£¼ì„ ì²˜ë¦¬ (356-391ì¤„)
# ===== ë³€ê²½ í›„ ì½”ë“œ (ë³‘ë ¬ ì²˜ë¦¬) =====
# async def generate_menus_from_text_util(recipe_text_list: List[str]) -> MenuResponse:
#     # ë³‘ë ¬ ì²˜ë¦¬: ëª¨ë“  í˜ì´ì§€ë¥¼ ë™ì‹œì— ì²˜ë¦¬
#     ...
# ===== ë³€ê²½ í›„ ì½”ë“œ ë =====

# 2. "ë³€ê²½ ì „ ì½”ë“œ" ì£¼ì„ í•´ì œ (330-353ì¤„)
===== ë³€ê²½ ì „ ì½”ë“œ (ìˆœì°¨ ì²˜ë¦¬) =====
async def generate_menus_from_text_util(recipe_text_list: List[str]) -> MenuResponse:
    # recipe_text_listë¥¼ ìˆœíšŒí•˜ë©° ê° í…ìŠ¤íŠ¸ë¥¼ ê°œë³„ì ìœ¼ë¡œ ì²˜ë¦¬ í›„ ê²°ê³¼ë¥¼ í•©ì¹¨
    ...
    return MenuResponse(menus=all_menus)
===== ë³€ê²½ ì „ ì½”ë“œ ë =====
```

### 3ë‹¨ê³„: ì„œë²„ ì¬ì‹œì‘

```bash
cd apps/ai

# ê°€ìƒí™˜ê²½ í™œì„±í™” (í•„ìˆ˜)
source venv/bin/activate

# ê¸°ì¡´ ì„œë²„ ì¢…ë£Œ
pkill -f "uvicorn.*main:app"

# ì„œë²„ ì¬ì‹œì‘
uvicorn src.main:app --reload --port 8000
```

---

## ğŸ§ª ì„±ëŠ¥ ë¹„êµ í…ŒìŠ¤íŠ¸

### 1. ë³€ê²½ ì „ (ìˆœì°¨ ì²˜ë¦¬) í…ŒìŠ¤íŠ¸

```bash
cd apps/ai

# ê°€ìƒí™˜ê²½ í™œì„±í™” (í•„ìˆ˜)
source venv/bin/activate

# ì½”ë“œë¥¼ ë³€ê²½ ì „ìœ¼ë¡œ ì „í™˜í•œ í›„
python test_performance.py sample_recipe.pdf
```

**ì˜ˆìƒ ê²°ê³¼:**
```
============================================================
[PERF] Starting SEQUENTIAL processing of 10 pages
============================================================

[PERF] Processing page 1/10...
[PERF] Page 1 generated 5 menus
[PERF] Processing page 2/10...
[PERF] Page 2 generated 4 menus
...

============================================================
[PERF] SUMMARY (SEQUENTIAL):
[PERF] Total pages: 10
[PERF] Total menus generated: 47
[PERF] Total time: 180.00s  â† ì•½ 3ë¶„
============================================================

â±ï¸  ì´ ì²˜ë¦¬ ì‹œê°„: 180.00ì´ˆ
```

### 2. ë³€ê²½ í›„ (ë³‘ë ¬ ì²˜ë¦¬) í…ŒìŠ¤íŠ¸

```bash
cd apps/ai

# ê°€ìƒí™˜ê²½ í™œì„±í™” (í•„ìˆ˜)
source venv/bin/activate

# ì½”ë“œë¥¼ ë³€ê²½ í›„ë¡œ ë‹¤ì‹œ ì „í™˜í•œ í›„
python test_performance.py sample_recipe.pdf
```

**ì˜ˆìƒ ê²°ê³¼:**
```
============================================================
[PERF] Starting PARALLEL processing of 10 pages
============================================================

[PERF] Page 1 generated 5 menus
[PERF] Page 2 generated 4 menus
... (ë™ì‹œì— ì²˜ë¦¬ë¨)

============================================================
[PERF] SUMMARY (PARALLEL):
[PERF] Total pages: 10
[PERF] Total menus generated: 47
[PERF] Parallel processing time: 15.23s
[PERF] Total time: 15.25s
[PERF] Speedup: 10.03x  â† 10ë°° ë¹¨ë¼ì§!
============================================================

â±ï¸  ì´ ì²˜ë¦¬ ì‹œê°„: 32.45ì´ˆ
```

---

## ğŸ“Š ë¹„êµ ê²°ê³¼ ê¸°ë¡

| í•­ëª© | ë³€ê²½ ì „ (ìˆœì°¨) | ë³€ê²½ í›„ (ë³‘ë ¬) | ê°œì„ ìœ¨ |
|------|---------------|---------------|--------|
| 10í˜ì´ì§€ ì²˜ë¦¬ ì‹œê°„ | ~180ì´ˆ | ~30-40ì´ˆ | 5-6ë°° |
| ë¡œê·¸ ë©”ì‹œì§€ | SEQUENTIAL | PARALLEL | - |
| í˜ì´ì§€ ì²˜ë¦¬ ë°©ì‹ | í•˜ë‚˜ì”© ìˆœì°¨ | ë™ì‹œ ë³‘ë ¬ | - |
| Speedup í‘œì‹œ | ì—†ìŒ | ìˆìŒ (10x) | - |

---

## ğŸ’¡ ì£¼ìš” ì°¨ì´ì 

### ë³€ê²½ ì „ (ìˆœì°¨ ì²˜ë¦¬)
```python
for i, recipe_text in enumerate(recipe_text_list):
    menu_response = await generate_menus_from_text(recipe_text)
    all_menus.extend(menu_response.menus)
```
- í˜ì´ì§€ë¥¼ í•˜ë‚˜ì”© ì²˜ë¦¬
- ë¡œê·¸: "Processing page 1/10...", "Processing page 2/10..." ìˆœì°¨ ì¶œë ¥
- ì´ ì‹œê°„ = í˜ì´ì§€ë‹¹ ì‹œê°„ Ã— í˜ì´ì§€ ìˆ˜

### ë³€ê²½ í›„ (ë³‘ë ¬ ì²˜ë¦¬)
```python
tasks = [generate_menus_from_text(recipe_text) for recipe_text in recipe_text_list]
results = await asyncio.gather(*tasks)
```
- ëª¨ë“  í˜ì´ì§€ë¥¼ ë™ì‹œì— ì²˜ë¦¬
- ë¡œê·¸: ëª¨ë“  í˜ì´ì§€ ê²°ê³¼ê°€ ê±°ì˜ ë™ì‹œì— ì¶œë ¥
- ì´ ì‹œê°„ â‰ˆ ê°€ì¥ ëŠë¦° í˜ì´ì§€ í•˜ë‚˜ì˜ ì‹œê°„
- Speedup ì§€í‘œ ìë™ ê³„ì‚°

---

## ğŸ”§ íŒ

### VSCodeì—ì„œ ë¹ ë¥´ê²Œ ì „í™˜í•˜ê¸°

1. `Cmd+F` (ë˜ëŠ” `Ctrl+F`)ë¡œ ê²€ìƒ‰
2. ê²€ìƒ‰ì–´: `===== ë³€ê²½ ì „ ì½”ë“œ`
3. í•´ë‹¹ ì„¹ì…˜ìœ¼ë¡œ ì´ë™í•˜ì—¬ ì£¼ì„ í† ê¸€

### ì£¼ì„ í† ê¸€ ë‹¨ì¶•í‚¤
- **Mac**: `Cmd+/`
- **Windows/Linux**: `Ctrl+/`

ì„ íƒí•œ ì—¬ëŸ¬ ì¤„ì„ í•œ ë²ˆì— ì£¼ì„ ì²˜ë¦¬/í•´ì œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **ë‘ í•¨ìˆ˜ ëª¨ë‘ ì „í™˜í•´ì•¼ ì •í™•í•œ ë¹„êµ ê°€ëŠ¥**
   - `translate_menus_to_korean` ë§Œ ì „í™˜í•˜ë©´ ë²ˆì—­ë§Œ ìˆœì°¨ ì²˜ë¦¬ë¨
   - `generate_menus_from_text_util` ë§Œ ì „í™˜í•˜ë©´ í˜ì´ì§€ ì²˜ë¦¬ë§Œ ìˆœì°¨ ì²˜ë¦¬ë¨
   - ì™„ì „í•œ ë¹„êµë¥¼ ìœ„í•´ ë‘ í•¨ìˆ˜ ëª¨ë‘ ì „í™˜ í•„ìš”

2. **ì„œë²„ ì¬ì‹œì‘ í•„ìˆ˜**
   - ì½”ë“œ ë³€ê²½ í›„ ë°˜ë“œì‹œ ì„œë²„ ì¬ì‹œì‘

3. **ë™ì¼í•œ íŒŒì¼ë¡œ í…ŒìŠ¤íŠ¸**
   - ê³µì •í•œ ë¹„êµë¥¼ ìœ„í•´ ê°™ì€ PDF íŒŒì¼ ì‚¬ìš©

4. **OpenAI API Rate Limit ì£¼ì˜**
   - ë³‘ë ¬ ì²˜ë¦¬ ì‹œ ë™ì‹œ API í˜¸ì¶œì´ ë§ì•„ì§
   - Rate limit ì´ˆê³¼ ì‹œ ì—ëŸ¬ ë°œìƒ ê°€ëŠ¥

---

## ğŸš€ ë‹¤ì‹œ ë³‘ë ¬ ì²˜ë¦¬ë¡œ ëŒì•„ê°€ê¸°

í…ŒìŠ¤íŠ¸ ì™„ë£Œ í›„ ë³‘ë ¬ ì²˜ë¦¬ë¡œ ëŒì•„ê°€ë ¤ë©´:

1. "ë³€ê²½ ì „ ì½”ë“œ" ë¶€ë¶„ì„ ë‹¤ì‹œ ì£¼ì„ ì²˜ë¦¬
2. "ë³€ê²½ í›„ ì½”ë“œ" ë¶€ë¶„ ì£¼ì„ í•´ì œ
3. ì„œë²„ ì¬ì‹œì‘

ë˜ëŠ”:

```bash
# Gitìœ¼ë¡œ ë˜ëŒë¦¬ê¸°
git checkout apps/ai/src/main.py
```
